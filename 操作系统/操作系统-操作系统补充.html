<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>操作系统补充 &mdash; 梦境迷离</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/components/collection.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/globals/common.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/css/posts/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mzlogin/rouge-themes@master/dist/github.css"><link rel="canonical" href="https://blog.dreamylost.cn/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%A1%A5%E5%85%85.html"><link rel="alternate" type="application/atom+xml" title="梦境迷离" href="https://blog.dreamylost.cn/feed.xml"><link rel="shortcut icon" href="https://dreamylost.cn/favicon.ico"><meta property="og:title" content="操作系统补充"><meta name="keywords" content="梦境迷离, jxnu-liguobin"><meta name="og:keywords" content="梦境迷离, jxnu-liguobin"><meta name="description" content=" 操作系统 Pro操作系统 Pro"><meta name="og:description" content=" 操作系统 Pro操作系统 Pro"><meta property="og:url" content="https://blog.dreamylost.cn/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%A1%A5%E5%85%85.html"><meta property="og:site_name" content="梦境迷离"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2018-11-11"> <script src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/js/jquery-ui.js"></script> <script src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/js/main.js"></script> <script data-ad-client="ca-pub-8236444920328818" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://blog.dreamylost.cn/" title="梦境迷离"><span class="octicon octicon-mark-github"></span> 梦境迷离</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://blog.dreamylost.cn/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="https://blog.dreamylost.cn/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="https://blog.dreamylost.cn/archives/" class=" site-header-nav-item" target="" title="归档">归档</a> <a href="https://blog.dreamylost.cn/open-source/" class=" site-header-nav-item" target="" title="开源">开源</a> <a href="https://blog.dreamylost.cn/wiki/" class=" site-header-nav-item" target="" title="维基">维基</a> <a href="https://blog.dreamylost.cn/links/" class=" site-header-nav-item" target="" title="链接">链接</a> <a href="https://blog.dreamylost.cn/about/" class=" site-header-nav-item" target="" title="关于">关于</a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="操作系统补充"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">操作系统补充</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2018/11/11 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.dreamylost.cn/categories/#操作系统" title="操作系统">操作系统</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 10926 字，约 32 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"> <img style="height:72px;width:72px" src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/images/qrcode.jpg" alt="梦境迷离" /></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" > <ins class="adsbygoogle content-header-ad" data-ad-client="ca-pub-8236444920328818" data-ad-slot="3977594606"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <br /><article class="article-content markdown-body"><ul id="markdown-toc"><li><a href="#操作系统-pro" id="markdown-toc-操作系统-pro">操作系统 Pro</a></li></ul><h3 id="操作系统-pro">操作系统 Pro</h3><blockquote><p>计算机是由以下几个单元组成的：包括输入单元、输出单元、<code class="language-plaintext highlighter-rouge">CPU</code>内部的控制单元、算数逻辑单元与主存储器五大部分。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">CPU</code>种类主要有两种：<code class="language-plaintext highlighter-rouge">RISC</code>-精简指令集 和 <code class="language-plaintext highlighter-rouge">CISC</code>-复杂指令集。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">RISC</code>的设计重点在于降低由硬件执行指令的复杂度，因为软件比硬件容易提供更大的灵活性和更高的智能，因此<code class="language-plaintext highlighter-rouge">RISC</code>设计对编译器有更高的要求；而<code class="language-plaintext highlighter-rouge">CISC</code>的设计则更侧重于硬件执行指令的功能，使<code class="language-plaintext highlighter-rouge">CISC</code>的指令变得很复杂。总之<code class="language-plaintext highlighter-rouge">RISC</code>的指令集精简，执行效率好，但对编译器的要求高，而<code class="language-plaintext highlighter-rouge">CISC</code>强调硬件的复杂性，指令集多而复杂，执行效率差，但每条指令的功能丰富。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">CPU</code>频率=外频<code class="language-plaintext highlighter-rouge">*</code>频，我们常说的超频指的是设定主板的外频或者是倍频为较高频率的一种方式。</p></blockquote><blockquote><p>一般主板芯片组有北桥和南桥。北桥称为系统总线，连接<code class="language-plaintext highlighter-rouge">CPU</code>、内存和显卡等快速设备，南桥称为输入输出总线，连接硬盘、<code class="language-plaintext highlighter-rouge">USB</code>、<code class="language-plaintext highlighter-rouge">PCI</code>接口和网卡等慢速设备。</p></blockquote><p>北桥所支持的频率称为前端总线速度，而每次传送的位数则是总线宽度。常见的总线宽度有<code class="language-plaintext highlighter-rouge">32</code>和<code class="language-plaintext highlighter-rouge">64</code>位（<code class="language-plaintext highlighter-rouge">bits</code>），另外所谓的总线带宽则是 前端总线速度<code class="language-plaintext highlighter-rouge">*</code>总线宽度，即每秒可传送的最大数据量。</p><blockquote><p><code class="language-plaintext highlighter-rouge">CPU</code>每次能够处理的数据量称为字组大小，也有<code class="language-plaintext highlighter-rouge">32</code>位和<code class="language-plaintext highlighter-rouge">64</code>位之分，而<code class="language-plaintext highlighter-rouge">32</code>位<code class="language-plaintext highlighter-rouge">CPU</code>只能支持最大<code class="language-plaintext highlighter-rouge">4GBytes</code>的内存。</p></blockquote><blockquote><p>内存通常有<code class="language-plaintext highlighter-rouge">SDRAM</code>和<code class="language-plaintext highlighter-rouge">DDR SDRAM</code>两种，但<code class="language-plaintext highlighter-rouge">DDR</code>拥有更快的传输频率，所以<code class="language-plaintext highlighter-rouge">SDRAM</code>已经逐渐被淘汰啦。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">CPU</code>内部还存在高速缓存，以提高<code class="language-plaintext highlighter-rouge">CPU</code>的效率，这里就要用到静态随机存储内存，即<code class="language-plaintext highlighter-rouge">SRAM</code>，通常容量很小，但速度很快。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">CMOS</code>芯片是主板上一块可读写的<code class="language-plaintext highlighter-rouge">RAM</code>芯片，用于保存<code class="language-plaintext highlighter-rouge">BIOS</code>设置的各项硬件配置信息和用户设定的某些参数，由主板上的纽扣电池供电，即使系统断电信息也不会丢失。而<code class="language-plaintext highlighter-rouge">BIOS</code>则是主板上的一块<code class="language-plaintext highlighter-rouge">EPROM</code>或<code class="language-plaintext highlighter-rouge">EEPROM</code>芯片，用于存放系统重要信息和<code class="language-plaintext highlighter-rouge">BIOS</code>设置程序。</p></blockquote><blockquote><p>显卡内拥有显存，这是因为每个图像的颜色会占用掉内存，而有的显卡甚至拥有<code class="language-plaintext highlighter-rouge">GPU</code>，用于<code class="language-plaintext highlighter-rouge">3D</code>加速，这对于游戏是非常重要的性能。</p></blockquote><blockquote><p>注意硬盘的结构，拥有扇区（<code class="language-plaintext highlighter-rouge">Sector</code>）、磁道（<code class="language-plaintext highlighter-rouge">Cylinder</code>）和<code class="language-plaintext highlighter-rouge">Header</code>头这几个概念，所以硬盘的总容量计算公式为 <code class="language-plaintext highlighter-rouge">Header</code>数量<code class="language-plaintext highlighter-rouge">*</code>每个<code class="language-plaintext highlighter-rouge">Header</code>负责的磁道数<code class="language-plaintext highlighter-rouge">*</code>每个磁道所含有的扇区数量<code class="language-plaintext highlighter-rouge">*</code>每个扇区的字节数。另外我们通常<code class="language-plaintext highlighter-rouge">500GB</code>的硬盘指的是十进制的<code class="language-plaintext highlighter-rouge">500\*1000\*1000\*1000Bytes</code>的大小，所以实际上仅拥有<code class="language-plaintext highlighter-rouge">460GBytes</code>左右的容量。</p></blockquote><blockquote><p>计算机中每个设备都有一个<code class="language-plaintext highlighter-rouge">I/O</code>地址和<code class="language-plaintext highlighter-rouge">IRQ</code>中断。两个设备不能使用同一个<code class="language-plaintext highlighter-rouge">I/O</code>地址，而<code class="language-plaintext highlighter-rouge">IRQ</code>中断是设备联系<code class="language-plaintext highlighter-rouge">CPU</code>的专门路径，每个设备可以通过<code class="language-plaintext highlighter-rouge">IRQ</code>中断告知<code class="language-plaintext highlighter-rouge">CPU</code>自己的工作情况，以方便<code class="language-plaintext highlighter-rouge">CPU</code>分配任务。</p></blockquote><blockquote><p>计算机依次由 硬件–核心（<code class="language-plaintext highlighter-rouge">kernel</code>）–系统呼叫层（<code class="language-plaintext highlighter-rouge">system call</code>）–应用程序 这几个部分组成。其中 <code class="language-plaintext highlighter-rouge">kernel</code>+系统呼叫层+常用的应用程序 组成了现在的操作系统。而<code class="language-plaintext highlighter-rouge">Linux kernel</code>包含了对硬件进行管理的核心以及向应用程序提供系统调用的接口。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux kernel</code>分奇数和偶数两种版本，其中偶数版代表稳定版，奇数版代表测试版或不稳定版本。</p></blockquote><blockquote><p>硬盘里第一块扇区最重要，一般只有<code class="language-plaintext highlighter-rouge">512bytes</code>，里面存放着主引导记录（<code class="language-plaintext highlighter-rouge">MBR</code>）和磁盘分区表（<code class="language-plaintext highlighter-rouge">Partition Table</code>）。<code class="language-plaintext highlighter-rouge">MBR</code>主要用来引导启动系统，分区表只能保存四个主分区或逻辑分区，而逻辑分区只能有一个，至于逻辑分区表则保存在逻辑分区的第一个扇区里，因此可以给逻辑分区划分更多的子逻辑分区。</p></blockquote><blockquote><p>一般开机的流程是：<code class="language-plaintext highlighter-rouge">BIOS</code>–<code class="language-plaintext highlighter-rouge">MBR</code>–<code class="language-plaintext highlighter-rouge">Boot Loader</code>（<code class="language-plaintext highlighter-rouge">Grub</code>和<code class="language-plaintext highlighter-rouge">NT5/NT6</code>等）–<code class="language-plaintext highlighter-rouge">Kernel</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Boot Loader</code>可以存在的地方有两个：<code class="language-plaintext highlighter-rouge">MBR</code>和<code class="language-plaintext highlighter-rouge">Boot Sector</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>下<code class="language-plaintext highlighter-rouge">Ctrl+D</code>代表<code class="language-plaintext highlighter-rouge">End Of File</code>，<code class="language-plaintext highlighter-rouge">EOF</code>的意思，这个快捷键可以取代<code class="language-plaintext highlighter-rouge">exit</code>的功能，直接跳出文字界面。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>命令行下按<code class="language-plaintext highlighter-rouge">Tab</code>键可以补齐命令，<code class="language-plaintext highlighter-rouge">man</code>和<code class="language-plaintext highlighter-rouge">info</code>命令可以查看<code class="language-plaintext highlighter-rouge">command</code>的帮助文档，<code class="language-plaintext highlighter-rouge">Ctrl+C</code>表示中断进程，<code class="language-plaintext highlighter-rouge">Ctrl+D</code>表示<code class="language-plaintext highlighter-rouge">EOF</code>特殊字符，<code class="language-plaintext highlighter-rouge">Ctrl+Z</code>表示挂起进程在后台运行。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>系统下，用户和<code class="language-plaintext highlighter-rouge">root</code>相关信息记录在<code class="language-plaintext highlighter-rouge">/etc/passwd</code>下，个人密码则是记录在<code class="language-plaintext highlighter-rouge">/etc/shadow</code>下，所有的组名都记录在<code class="language-plaintext highlighter-rouge">/etc/group</code>内。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>的权限不是很细致，拥有<code class="language-plaintext highlighter-rouge">rwx</code>三种：</p></blockquote><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`r`（`Read`，读取）：   对文件而言，具有读取文件内容的权限；对目录来说，具有浏览目录的权限。

`w`（`Write`，写入）：  对文件而言，具有新增,修改,删除文件内容的权限；对目录来说，具有新建，删除，修改，移动目录内文件的权限。

`x`（`Execute`，执行）：对文件而言，具有执行文件的权限；对目录了来说该用户具有进入目录的权限。
</code></pre></div></div><blockquote><p>可以用<code class="language-plaintext highlighter-rouge">chgrp</code>改变文件的用户组，<code class="language-plaintext highlighter-rouge">chown</code>改变文件的所有者，<code class="language-plaintext highlighter-rouge">chmod</code>改变文件的权限。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>下文件的可删除和重命名权限是由其所在目录的<code class="language-plaintext highlighter-rouge">write</code>权限所决定的，要了解目录权限的意义。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>下的文件类型：<code class="language-plaintext highlighter-rouge">-</code>代表常规文件，<code class="language-plaintext highlighter-rouge">d</code>代表目录，<code class="language-plaintext highlighter-rouge">l</code>代表链接，<code class="language-plaintext highlighter-rouge">b</code>（<code class="language-plaintext highlighter-rouge">block</code>）和<code class="language-plaintext highlighter-rouge">c</code>（<code class="language-plaintext highlighter-rouge">char</code>）代表设备文件，<code class="language-plaintext highlighter-rouge">s</code>代表<code class="language-plaintext highlighter-rouge">socket</code>文件，<code class="language-plaintext highlighter-rouge">p</code>代表<code class="language-plaintext highlighter-rouge">pipe</code>管道文件。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">pwd</code>会显示出当前目录的路径，注意 <code class="language-plaintext highlighter-rouge">-P</code> 选项，如果当前目录只是以链接文件的形式存在，那么 <code class="language-plaintext highlighter-rouge">pwd -P</code> 就会显示出链接真正所指向的路径。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">cp</code>命令：<code class="language-plaintext highlighter-rouge">cp -a souce dest</code> 相当于 <code class="language-plaintext highlighter-rouge">cp -pdr source dest</code>，完全复制目录的属性和档案，甚至是链接文件。如果不加任何参数的 <code class="language-plaintext highlighter-rouge">cp</code> 一个软链接，复制的结果会是源文件，而不是软链接，用 <code class="language-plaintext highlighter-rouge">-d</code> 可以解决，注意。</p></blockquote><blockquote><p>删除带有<code class="language-plaintext highlighter-rouge">-</code>开头的档案，例如 <code class="language-plaintext highlighter-rouge">-aaa</code> 这个文件，必须 <code class="language-plaintext highlighter-rouge">rm ./-aaa</code> 或 <code class="language-plaintext highlighter-rouge">rm -- -aaa</code> 才可以删除，否则<code class="language-plaintext highlighter-rouge">-aaa</code>会误判为参数。</p></blockquote><blockquote><p>查看二进制文件，有 <code class="language-plaintext highlighter-rouge">od</code> 和 <code class="language-plaintext highlighter-rouge">xxd</code> 命令，甚至有 <code class="language-plaintext highlighter-rouge">hexdump</code> 命令，都是以 <code class="language-plaintext highlighter-rouge">16</code>进制或<code class="language-plaintext highlighter-rouge">8</code>进制 显示输出，非常方便调试。</p></blockquote><blockquote><p>新建目录和档案的默认权限是由 <code class="language-plaintext highlighter-rouge">umask</code> 来控制的，一般我们在<code class="language-plaintext highlighter-rouge">linux</code>系统的 <code class="language-plaintext highlighter-rouge">umask</code> 设置为 <code class="language-plaintext highlighter-rouge">022</code> 比较好。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">linux</code>下档案的隐藏属性：<code class="language-plaintext highlighter-rouge">chattr</code> 命令可以设置档案的隐藏属性，常用的有<code class="language-plaintext highlighter-rouge">i</code>属性（任何用户包括<code class="language-plaintext highlighter-rouge">root</code>都无法修改），<code class="language-plaintext highlighter-rouge">a</code>属性（只能增加数据，不能删除数据）等；<code class="language-plaintext highlighter-rouge">lsattr</code> 命令可以查看档案的隐藏属性，注意属性和权限是不同的，留个记性。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">linux</code>文件的特殊权限：<code class="language-plaintext highlighter-rouge">SUID(u+s)</code>、<code class="language-plaintext highlighter-rouge">SGID(g+s)</code>和<code class="language-plaintext highlighter-rouge">SBIT(o+t)</code>。这三个特殊权限都是用来取代<code class="language-plaintext highlighter-rouge">x</code>权限的，所以设置这三个权限的前提条件就是必须具有<code class="language-plaintext highlighter-rouge">x</code>权限，否则小写的 <code class="language-plaintext highlighter-rouge">s</code>和<code class="language-plaintext highlighter-rouge">t</code> 权限就会变为大写的 <code class="language-plaintext highlighter-rouge">S</code>和<code class="language-plaintext highlighter-rouge">T</code> 权限，表示文件还不具备<code class="language-plaintext highlighter-rouge">x</code>权限，更谈不上这三个权限啦。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">SUID(u+s)</code>仅能用在可执行的二进制程序上，目录无效。</p></blockquote><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>拥有`SUID`权限的二进制程序在执行时，执行者会暂时取得拥有者的权限，例如 `passwd` 命令就具有`SUID`权限，使得普通用户在执行 `passwd` 命令时会暂时 `root` 用户的权限，从而能修改`/etc/passwd`文件。
</code></pre></div></div><blockquote><p><code class="language-plaintext highlighter-rouge">SGID(u+s)</code>不仅能用在可执行的二进制程序上，目录同样有效。</p></blockquote><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>拥有`SGID`权限的二进制程序在执行时，执行者会暂时取得该程序所属的群组支持，从而能访问自己群组本不能访问的文件；

拥有`SGID`权限的目录，一旦进入该目录，那么在目录下新建任何文件和目录，它们的群组都会与该目录相同，对于项目开发还是相当有用的。
</code></pre></div></div><blockquote><p><code class="language-plaintext highlighter-rouge">SBIT(o+t)</code>仅能用在有<code class="language-plaintext highlighter-rouge">x</code>权限的目录上，文件档无效。</p></blockquote><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>拥有`SBIT`权限的目录，一旦进入该目录，当用户在该目录下新建档案和目录时，仅有自己和`root`才能删除该档案，即使文件具有`g+w`，`o+w`这样的属性，也会失效。例如`/tmp`就是这样一个文件夹。
</code></pre></div></div><blockquote><p><code class="language-plaintext highlighter-rouge">SUID</code>权限为<code class="language-plaintext highlighter-rouge">4</code>，<code class="language-plaintext highlighter-rouge">SGID</code>权限为<code class="language-plaintext highlighter-rouge">2</code>，<code class="language-plaintext highlighter-rouge">SBIT</code>权限为<code class="language-plaintext highlighter-rouge">1</code>，因此可以用 <code class="language-plaintext highlighter-rouge">chmod 4755 file</code> 这样的命令来设置文件的特殊权限，还可以用 <code class="language-plaintext highlighter-rouge">u+s</code>，<code class="language-plaintext highlighter-rouge">g+s</code>，<code class="language-plaintext highlighter-rouge">o+t</code> 这样的设置法。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">EXT2</code>文件系统的组成：最前面是一个<code class="language-plaintext highlighter-rouge">Boot Sector</code>，然后是<code class="language-plaintext highlighter-rouge">N</code>多个<code class="language-plaintext highlighter-rouge">Block Group</code>。</p></blockquote><blockquote><p>每个<code class="language-plaintext highlighter-rouge">Block Group</code>主要由<code class="language-plaintext highlighter-rouge">inodetable/datablock/superblock</code>等部分组成：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">superblock</code>记录<code class="language-plaintext highlighter-rouge">Filesystem</code>的信息和<code class="language-plaintext highlighter-rouge">inode</code>、<code class="language-plaintext highlighter-rouge">block</code>的大小和数量等，一般在第一个<code class="language-plaintext highlighter-rouge">Block Group</code>里，后面的<code class="language-plaintext highlighter-rouge">Block Group</code>大部分都没有，有的话也只是第一个<code class="language-plaintext highlighter-rouge">Block Group</code>的备份；</li><li><code class="language-plaintext highlighter-rouge">filesystem description</code>主要记录<code class="language-plaintext highlighter-rouge">block group</code>的起始与结束的<code class="language-plaintext highlighter-rouge">block</code>号码，以及<code class="language-plaintext highlighter-rouge">group</code>每个区段分别介于哪一个<code class="language-plaintext highlighter-rouge">block</code>号码之间；</li><li><code class="language-plaintext highlighter-rouge">block bitmap</code>记录每个<code class="language-plaintext highlighter-rouge">block</code>号码是否使用中；</li><li><code class="language-plaintext highlighter-rouge">inode bitmap</code>记录每个<code class="language-plaintext highlighter-rouge">inode</code>号码是否使用中；</li><li><code class="language-plaintext highlighter-rouge">inode table</code>则是记录每个 <code class="language-plaintext highlighter-rouge">inode</code>（文件） 的权限、属性、容量等以及它真正内容所在的<code class="language-plaintext highlighter-rouge">block</code>号码；</li><li><code class="language-plaintext highlighter-rouge">data block</code>则是纯粹的数据记录。</li></ul><blockquote><p><code class="language-plaintext highlighter-rouge">Block Group</code>的基本单位是<code class="language-plaintext highlighter-rouge">block</code>，<code class="language-plaintext highlighter-rouge">block size</code>一般是<code class="language-plaintext highlighter-rouge">1K</code>、<code class="language-plaintext highlighter-rouge">2K</code>或<code class="language-plaintext highlighter-rouge">4K</code>。</p></blockquote><blockquote><p>每个文件只有一个<code class="language-plaintext highlighter-rouge">inode</code>，而每个<code class="language-plaintext highlighter-rouge">inode</code>可能指向多个数据相同的文件，每个<code class="language-plaintext highlighter-rouge">inode</code>大小一般<code class="language-plaintext highlighter-rouge">128</code>字节或<code class="language-plaintext highlighter-rouge">256</code>字节。</p></blockquote><blockquote><p>详细的<code class="language-plaintext highlighter-rouge">ext2</code>文件系统信息可以用 <code class="language-plaintext highlighter-rouge">tune2fs -l /dev/sda1</code> 或 <code class="language-plaintext highlighter-rouge">dumpe2fs /dev/sda1</code> 命令查看。</p></blockquote><blockquote><p>目录的链接数 包括目录本身、当前目录<code class="language-plaintext highlighter-rouge">.</code>和父目录<code class="language-plaintext highlighter-rouge">..</code>，每建立一个文件夹就多一个父目录<code class="language-plaintext highlighter-rouge">..</code>；文件的链接数指的是 该文件<code class="language-plaintext highlighter-rouge">inode</code>号的链接数，即是硬链接个数。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">hdparm</code>命令可以用来测试硬盘读取速度，不过不是很准，<code class="language-plaintext highlighter-rouge">hdparm -Tt /dev/sda</code>。</p></blockquote><blockquote><p>在使用<code class="language-plaintext highlighter-rouge">fdisk</code>重新分区后，不要忘记使用<code class="language-plaintext highlighter-rouge">partprobe</code>命令让<code class="language-plaintext highlighter-rouge">kernel</code>更新分区表，很重要，否则系统可能会出错。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">dd if=/dev/sda of=/dev/sdb</code>，这个命令可以让两个硬盘完全相同，因为<code class="language-plaintext highlighter-rouge">dd</code>可以读取硬盘的所有数据，包括<code class="language-plaintext highlighter-rouge">MBR</code>和<code class="language-plaintext highlighter-rouge">boot sector</code>等。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">linux</code>启动时首先挂载临时根文件系统<code class="language-plaintext highlighter-rouge">initrd</code>（<code class="language-plaintext highlighter-rouge">Initial Ram Disk</code>），完成引导并挂载真正的根文件系统后再退出，不过在很多嵌入式设备中，它却是最终的根文件系统，因为它是文件系统的最小集合，非常适合嵌入式系统。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">cpio</code>指令可以备份任何档案，包括<code class="language-plaintext highlighter-rouge">/dev</code>下的设备档案，正因如此，现在的<code class="language-plaintext highlighter-rouge">initrd</code>都是采用<code class="language-plaintext highlighter-rouge">cpio</code>备份再用<code class="language-plaintext highlighter-rouge">gzip</code>压缩生成的。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">dos2unix</code>可以将<code class="language-plaintext highlighter-rouge">windows</code>文件的行尾字符<code class="language-plaintext highlighter-rouge">\r\n</code>转换成<code class="language-plaintext highlighter-rouge">unix</code>格式<code class="language-plaintext highlighter-rouge">\n</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">iconv</code>可以转换文件的字符编码，例如：<code class="language-plaintext highlighter-rouge">iconv -f gbk -t utf8 test.gbk -o test.utf8</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">ulimit</code>可以控制用户使用的系统资源，防止资源占用过高，系统崩溃。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">env</code>是<code class="language-plaintext highlighter-rouge">shell</code>外置命令，可以显示当前<code class="language-plaintext highlighter-rouge">shell</code>的环境变量，又叫全局变量。<code class="language-plaintext highlighter-rouge">export</code>是<code class="language-plaintext highlighter-rouge">shell</code>内置命令，也可显示当前<code class="language-plaintext highlighter-rouge">shell</code>的环境变量。不过两者都另外有各自不同的功能，用法自己查吧。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">set</code>是<code class="language-plaintext highlighter-rouge">shell</code>内置命令，可以显示包括环境变量、本地变量、内置变量、函数等所有<code class="language-plaintext highlighter-rouge">shell</code>设定值。不过它主要的功能是控制<code class="language-plaintext highlighter-rouge">shell</code>的内置设定，如<code class="language-plaintext highlighter-rouge">set -o</code>命令。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">declare</code>也是<code class="language-plaintext highlighter-rouge">shell</code>内置命令，一样可以显示包括变量和函数等所有<code class="language-plaintext highlighter-rouge">shell</code>设定值。不过它主要的功能是声明变量和数组等值类型，<code class="language-plaintext highlighter-rouge">shell</code>内的变量包括字符串，整数，数组，只读，导出等不同的类型和属性，记得善加利用，会事半功倍哟。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">bash</code>里面的各种变量操作，这可以节省我们的程序行数：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">${str#pattern}</code>：从变量头部开始寻找符合<code class="language-plaintext highlighter-rouge">pattern</code>的数据，将符合的最短数据删除</li><li><code class="language-plaintext highlighter-rouge">${str##pattern}</code>：从变量头部开始寻找符合<code class="language-plaintext highlighter-rouge">pattern</code>的数据，将符合的最长数据删除</li><li><code class="language-plaintext highlighter-rouge">${str%pattern}</code>：从变量尾部开始寻找符合<code class="language-plaintext highlighter-rouge">pattern</code>的数据，将符合的最短数据删除</li><li><code class="language-plaintext highlighter-rouge">${str%%pattern}</code>：从变量尾部开始寻找符合<code class="language-plaintext highlighter-rouge">pattern</code>的数据，将符合的最长数据删除</li><li><code class="language-plaintext highlighter-rouge">${str/old/new}</code>：寻找变量内符合<code class="language-plaintext highlighter-rouge">old</code>的字符串，第一个符合的数据将被替换为<code class="language-plaintext highlighter-rouge">new</code></li><li><code class="language-plaintext highlighter-rouge">${str//old/new}</code>：寻找变量内符合<code class="language-plaintext highlighter-rouge">old</code>的字符串，并将所有符合的数据替换为<code class="language-plaintext highlighter-rouge">new</code></li></ul><blockquote><p>下面是变量赋值的各种替代操作，对于变量初始化很有用：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">var=${str-expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>没有设定，<code class="language-plaintext highlighter-rouge">var=expr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str:-expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>没有设定或为空，<code class="language-plaintext highlighter-rouge">var=expr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str+expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>有设定，<code class="language-plaintext highlighter-rouge">var=expr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str:+expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>有设定且不为空，<code class="language-plaintext highlighter-rouge">var=expr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str=expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>没有设定，<code class="language-plaintext highlighter-rouge">str=expr,var=expr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str:=expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>没有设定或为空，<code class="language-plaintext highlighter-rouge">str=expr,var=expr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str?expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>没有设定，<code class="language-plaintext highlighter-rouge">expr</code>输出至<code class="language-plaintext highlighter-rouge">stderr</code></li><li><code class="language-plaintext highlighter-rouge">var=${str:?expr}</code>：如果<code class="language-plaintext highlighter-rouge">str</code>没有设定或为空，<code class="language-plaintext highlighter-rouge">expr</code>输出至<code class="language-plaintext highlighter-rouge">stderr</code></li></ul><blockquote><p><code class="language-plaintext highlighter-rouge">history</code>可以查看最近下达的指令，而<code class="language-plaintext highlighter-rouge">!</code>则可以执行历史命令，如<code class="language-plaintext highlighter-rouge">!number</code>可以下达第<code class="language-plaintext highlighter-rouge">number</code>号指令，<code class="language-plaintext highlighter-rouge">!command</code>可以下达最近以<code class="language-plaintext highlighter-rouge">command</code>开头的指令，这就很有效率啦。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">stty</code>可以控制终端的各种设定，如串口速率，快捷键等；此外还有<code class="language-plaintext highlighter-rouge">set</code>命令可以控制<code class="language-plaintext highlighter-rouge">bash</code>的各种功能设定；两者合作决定了我们的终端机。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">bash</code>默认组合按键：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">Ctrl+C</code>：终止当前命令</li><li><code class="language-plaintext highlighter-rouge">Ctrl+D</code>：输入结束符（<code class="language-plaintext highlighter-rouge">EOF</code>）</li><li><code class="language-plaintext highlighter-rouge">Ctrl+M</code>：输入回车符（<code class="language-plaintext highlighter-rouge">Enter</code>）</li><li><code class="language-plaintext highlighter-rouge">Ctrl+S</code>：暂停屏幕输出</li><li><code class="language-plaintext highlighter-rouge">Ctrl+Q</code>：恢复屏幕输出</li><li><code class="language-plaintext highlighter-rouge">Ctrl+U</code>：删除提示符整行命令</li><li><code class="language-plaintext highlighter-rouge">Ctrl+Z</code>：暂停目前的进程</li></ul><blockquote><p><code class="language-plaintext highlighter-rouge">bash</code>中的标准输入，标准输出，标准错误：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">1&gt;</code>或<code class="language-plaintext highlighter-rouge">&gt;</code>：标准输出，覆盖形式</li><li><code class="language-plaintext highlighter-rouge">1&gt;&gt;</code>或<code class="language-plaintext highlighter-rouge">&gt;&gt;</code>：标准输出，追加形式</li><li><code class="language-plaintext highlighter-rouge">2&gt;</code>：标准错误输出，覆盖形式</li><li><code class="language-plaintext highlighter-rouge">2&gt;&gt;</code>：标准错误输出，追加形式</li><li><code class="language-plaintext highlighter-rouge">&lt;</code>：标准输入</li><li><code class="language-plaintext highlighter-rouge">&lt;&lt;</code>：标准输入的结束符（<code class="language-plaintext highlighter-rouge">EOF</code>）</li></ul><blockquote><p>对于追加的理解，我认为是输入或输出取代<code class="language-plaintext highlighter-rouge">EOF</code>的操作。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">tee</code>命令可以在标准输出的同时，转存一份到文件内，这对于数据分析及存储非常有用。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">tr</code>命令常用来删除特殊字符，或者对特殊字符进行转换，例如<code class="language-plaintext highlighter-rouge">TAB</code>符，<code class="language-plaintext highlighter-rouge">DOS</code>行尾符等都可以很轻松的转换和删除。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">join</code>可以连接相关数据，要求是某字段必须相同，与<code class="language-plaintext highlighter-rouge">sort</code>一起使用可以用来连接数据生成表格哟；<code class="language-plaintext highlighter-rouge">paste</code>则相对简单，不需要数据相关，直接将两行贴在一起，并用<code class="language-plaintext highlighter-rouge">TAB</code>隔开，也很有用。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">spilt</code>用来分割文件，可以指定文件以大小或行数来分割成<code class="language-plaintext highlighter-rouge">N</code>个小文件。</p></blockquote><blockquote><p>由于许多命令并不支持管道符，这里我们就可以使用<code class="language-plaintext highlighter-rouge">xargs</code>来调用不支持管道符的命令，它可以读取前面命令的输出作为参数提供给后面的命令来执行，这样就可以连接起不支持管道符的命令，用法很多。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">printf</code>命令类似于<code class="language-plaintext highlighter-rouge">C</code>语言的<code class="language-plaintext highlighter-rouge">printf</code>函数，可以格式化输出，善加运用，打印字符串会很美观。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">sed</code>的最小处理单位是行，对文本的行操作很有效率；而<code class="language-plaintext highlighter-rouge">awk</code>的最小处理单位是字段，对文本的列操作很有用，其命令格式如下：</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">awk 'pattern1{action1} pattern2{action2}...' file</code></p></blockquote><blockquote><p>常用选项：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">awk</code>的默认分割符是空格，可用内置变量<code class="language-plaintext highlighter-rouge">FS</code>指定；</li><li>内置变量<code class="language-plaintext highlighter-rouge">NF</code>：代表每一行（<code class="language-plaintext highlighter-rouge">$0</code>）的字段总数；</li><li>内置变量<code class="language-plaintext highlighter-rouge">NR</code>：代表<code class="language-plaintext highlighter-rouge">awk</code>目前正在处理的行数；</li><li><code class="language-plaintext highlighter-rouge">pattern</code>可以为空，常用的选项有<code class="language-plaintext highlighter-rouge">BEGIN</code>，<code class="language-plaintext highlighter-rouge">END</code>，条件判断和正则表达式等；</li><li>例如：<code class="language-plaintext highlighter-rouge">awk 'BEGIN{FS=":"} $3&lt;10{print NR"\t"$1"\t"$3} END{print FS, NF, NR}' /etc/passwd</code></li></ul><blockquote><p><code class="language-plaintext highlighter-rouge">diff</code>和<code class="language-plaintext highlighter-rouge">patch</code>常用于补丁的发布：生成补丁<code class="language-plaintext highlighter-rouge">diff -Naur dir1 dir2 &gt; dir.patch</code>，更新补丁<code class="language-plaintext highlighter-rouge">patch -p0 &lt; dir.patch</code>，还原补丁<code class="language-plaintext highlighter-rouge">patch -R -p0 &lt; dir.patch</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">bash</code>中的<code class="language-plaintext highlighter-rouge">[[ ]]</code>比<code class="language-plaintext highlighter-rouge">[ ]</code>更加高级，判断条件更加厉害，它可以判断出<code class="language-plaintext highlighter-rouge">linux</code>通配符（<code class="language-plaintext highlighter-rouge">==</code>）和正则表达式（<code class="language-plaintext highlighter-rouge">=～</code>），还有<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>，<code class="language-plaintext highlighter-rouge">||</code>和<code class="language-plaintext highlighter-rouge">!</code>等高级功能，善加运用，很厉害，具体参考<code class="language-plaintext highlighter-rouge">help [[</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">bash</code>的命令行参数默认用<code class="language-plaintext highlighter-rouge">$1 $2 ... $9</code>来表示，超过<code class="language-plaintext highlighter-rouge">10</code>个参数的话必须用到<code class="language-plaintext highlighter-rouge">shift</code>命令，<code class="language-plaintext highlighter-rouge">shift n</code>可以拿掉最前面的参数，使参数偏移<code class="language-plaintext highlighter-rouge">n</code>位，再次查看参数个数<code class="language-plaintext highlighter-rouge">$#</code>时就会发现参数少了，就可以继续使用后面的参数啦。</p></blockquote><blockquote><p>关于<code class="language-plaintext highlighter-rouge">shell</code>脚本的<code class="language-plaintext highlighter-rouge">debug</code>，我们可以使用<code class="language-plaintext highlighter-rouge">bash -x test.sh</code>来进行脚本的错误检查。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>用于帐号管理的<code class="language-plaintext highlighter-rouge">ACL</code>需要文件系统的支持，并且<code class="language-plaintext highlighter-rouge">mount</code>选项里要有<code class="language-plaintext highlighter-rouge">acl</code>才行。然后就可以使用<code class="language-plaintext highlighter-rouge">setfacl</code>和<code class="language-plaintext highlighter-rouge">getfacl</code>来对文件和目录针对某一使用者的权限进行管理。</p></blockquote><blockquote><p>使用<code class="language-plaintext highlighter-rouge">su - user</code>来切换身份会更好，因为它是<code class="language-plaintext highlighter-rouge">login-shell</code>方式，会转化成新的用户环境，否则的话，虽然切换了身份，但环境变量还是当前用户的环境变量。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">visudo</code>可以管理用户的<code class="language-plaintext highlighter-rouge">sudo</code>权限，不要直接修改<code class="language-plaintext highlighter-rouge">/etc/sudoers</code>文件，因为会有语法问题。另外<code class="language-plaintext highlighter-rouge">Linux</code>下的许多需要认证的命令（例如<code class="language-plaintext highlighter-rouge">passwd</code> <code class="language-plaintext highlighter-rouge">sudo</code> <code class="language-plaintext highlighter-rouge">su</code>等）都会用到<code class="language-plaintext highlighter-rouge">PAM</code>模块，这是一个专门用于认证授权的库，可以在<code class="language-plaintext highlighter-rouge">/etc/pam.d/*</code>中找到支持的命令或服务。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">who</code>查看当前登入用户，<code class="language-plaintext highlighter-rouge">write</code>可以发送信息给用户，<code class="language-plaintext highlighter-rouge">mesg</code>让用户可以控制是否接受信息，<code class="language-plaintext highlighter-rouge">wall</code>则对所有用户进行广播信息。</p></blockquote><blockquote><p>手动建立用户帐号流程：</p></blockquote><ul><li>建立群组（<code class="language-plaintext highlighter-rouge">vi /etc/group</code>）</li><li>同步<code class="language-plaintext highlighter-rouge">/etc/group</code>到<code class="language-plaintext highlighter-rouge">/etc/gpasswd</code>（<code class="language-plaintext highlighter-rouge">grpconv</code>）</li><li>建立帐号（<code class="language-plaintext highlighter-rouge">vi /etc/passwd</code>）</li><li>同步<code class="language-plaintext highlighter-rouge">/etc/passwd</code>到<code class="language-plaintext highlighter-rouge">/etc/shadow</code>（<code class="language-plaintext highlighter-rouge">pwconv</code>）</li><li>建立帐号密码（<code class="language-plaintext highlighter-rouge">passwd user</code>）</li><li>建立主目录（<code class="language-plaintext highlighter-rouge">cp -a /etc/skel /home/user</code>）</li><li>更改主目录属性（<code class="language-plaintext highlighter-rouge">chown -R user:group /home/user</code>）</li></ul><blockquote><p>针对服务器的磁盘限额配置，我们可以使用<code class="language-plaintext highlighter-rouge">quota</code>来配置，它也需要文件系统的支持，记得<code class="language-plaintext highlighter-rouge">mount</code>选项加上<code class="language-plaintext highlighter-rouge">usrquota</code>和<code class="language-plaintext highlighter-rouge">grpquota</code>。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">LVM</code>可以弹性调整文件系统的容量，并且拥有快照功能，作为虚拟机的文件系统很是有用。</p></blockquote><blockquote><p>在特定时间进行排程工作，我们可以使用<code class="language-plaintext highlighter-rouge">at</code>指令，而<code class="language-plaintext highlighter-rouge">batch</code>可以让<code class="language-plaintext highlighter-rouge">at</code>任务在<code class="language-plaintext highlighter-rouge">CPU</code>负载较小时才进行任务。</p></blockquote><blockquote><p>普通用户可以使用<code class="language-plaintext highlighter-rouge">crontab -e</code>来设定循环工作排程，而<code class="language-plaintext highlighter-rouge">ROOT</code>用户则可以直接编辑<code class="language-plaintext highlighter-rouge">/etc/crontab</code>来设置系统的循环排程。<code class="language-plaintext highlighter-rouge">anacron</code>可以在系统启动时唤醒停机期间未进行的<code class="language-plaintext highlighter-rouge">crontab</code>任务。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">ps</code>可以截取当前系统的运行进程，<code class="language-plaintext highlighter-rouge">pstree</code>可以显示进程树，<code class="language-plaintext highlighter-rouge">top</code>可以实时监控运行进程，<code class="language-plaintext highlighter-rouge">vmstat</code>可以查看系统资源的使用情况。</p></blockquote><blockquote><p>熟悉几个<code class="language-plaintext highlighter-rouge">kill</code>信号的意义：<code class="language-plaintext highlighter-rouge">1 - SIGHUP</code>代表让程序重新读取配置文件；<code class="language-plaintext highlighter-rouge">9 - SIGKILL</code>代表强制中断一个程序；<code class="language-plaintext highlighter-rouge">15 - SIGTERM</code>代表以正常的结束方式来终止该程序。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">nice</code>和<code class="language-plaintext highlighter-rouge">renice</code>可以调整程序的优先级高低，<code class="language-plaintext highlighter-rouge">PRI</code>值越低，程序就较优先被处理。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">netstat</code>和<code class="language-plaintext highlighter-rouge">ss</code>这两个命令分属不同的网络工具包，均可以查看当前系统的网络连接状况，不过<code class="language-plaintext highlighter-rouge">ss</code>比<code class="language-plaintext highlighter-rouge">netstat</code>快多了。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">fuser -uv /dev/pts/0</code>可以根据打开的<code class="language-plaintext highlighter-rouge">files</code>或<code class="language-plaintext highlighter-rouge">sockets</code>（这里是<code class="language-plaintext highlighter-rouge">/dev/pts/0</code>）找到运行的程序，而<code class="language-plaintext highlighter-rouge">lsof</code>可以列出被运行程序打开的所有文件，<code class="language-plaintext highlighter-rouge">pidof</code>可以找出运行程序的<code class="language-plaintext highlighter-rouge">PID</code>值。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>内核自带有<code class="language-plaintext highlighter-rouge">SELinux</code>安全机制，不过<code class="language-plaintext highlighter-rouge">Ubuntu</code>默认没有安装，一般为了安全，服务器端会启动，其主要作用是保证主体程序（主要是网络服务）仅能存取指定文件档案资源，即使程序被攻破，也不至于让黑客获得更多的文件档案和用户权限。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>服务程序可以分为两类：<code class="language-plaintext highlighter-rouge">Stand Alone</code>方式和<code class="language-plaintext highlighter-rouge">Super Daemon</code>方式。</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">Stand Alone</code>方式自己单独启动并常驻内存，例如<code class="language-plaintext highlighter-rouge">httpd</code>和<code class="language-plaintext highlighter-rouge">vsftpd</code>等；</li><li><code class="language-plaintext highlighter-rouge">Super Daemon</code>方式则是所有服务由<code class="language-plaintext highlighter-rouge">xinetd</code>统一管理，平时不启动，需要时才由<code class="language-plaintext highlighter-rouge">xinetd</code>调用启动，所以比较省内存，但反应比较慢；</li><li><code class="language-plaintext highlighter-rouge">/etc/services</code>里有所有服务的端口设置，<code class="language-plaintext highlighter-rouge">/etc/xinetd.d</code>则存放所有服务的配置文件，而<code class="language-plaintext highlighter-rouge">Super Daemon</code>的默认配置文件在<code class="language-plaintext highlighter-rouge">/etc/xinetd.conf</code>里。</li></ul><blockquote><p><code class="language-plaintext highlighter-rouge">rsync</code>是用来同步两台电脑文件夹的程序，对于服务器备份非常有用。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">/etc/hosts.allow</code>和<code class="language-plaintext highlighter-rouge">/etc/hosts.deny</code>只对支持<code class="language-plaintext highlighter-rouge">TCP Wrappers</code>的程序才有用，可以用<code class="language-plaintext highlighter-rouge">ldd</code>来查看程序是否支持<code class="language-plaintext highlighter-rouge">TCP Wrappers</code>。 <code class="language-plaintext highlighter-rouge">CentOS</code>中的<code class="language-plaintext highlighter-rouge">chkconfig</code>可以进行系统启动服务的管理，而在<code class="language-plaintext highlighter-rouge">Ubuntu</code>中可以用<code class="language-plaintext highlighter-rouge">initctl</code>（<code class="language-plaintext highlighter-rouge">Upstart</code>服务在<code class="language-plaintext highlighter-rouge">/etc/init</code>）和<code class="language-plaintext highlighter-rouge">update-rc.d</code>（<code class="language-plaintext highlighter-rouge">SYSV</code>服务在<code class="language-plaintext highlighter-rouge">/etc/init.d</code>）来代替。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>系统的<code class="language-plaintext highlighter-rouge">log</code>主要记录在<code class="language-plaintext highlighter-rouge">/var/log</code>下面，不过不同的发行版记录<code class="language-plaintext highlighter-rouge">log</code>的文件差异颇大，可以自行配置类似<code class="language-plaintext highlighter-rouge">/etc/rsyslog.conf</code>的文件，设定不同<code class="language-plaintext highlighter-rouge">log</code>的记录位置，甚至可以开启日志服务器。最后还要配置<code class="language-plaintext highlighter-rouge">/etc/logrotate.d/*</code>档案来设置<code class="language-plaintext highlighter-rouge">log</code>的备份周期，大小，个数，动作等参数，这样就可以周期备份和替换<code class="language-plaintext highlighter-rouge">log</code>文件，避免让<code class="language-plaintext highlighter-rouge">log</code>文件太大，影响系统效率。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>早期通过<code class="language-plaintext highlighter-rouge">mknod</code>手动创建静态设备，不管设备是否被用到，这就需要在<code class="language-plaintext highlighter-rouge">/dev</code>下创建大量设备，但随着大量设备的出现，设备的动态检测和识别出现了问题，往往一个设备拔下再插入后设备名出现了变化，大量相同设备插入后识别困难，这对于开发者十分不便。自从内核<code class="language-plaintext highlighter-rouge">2.6</code>版本以后，出现了一种叫<code class="language-plaintext highlighter-rouge">sysfs</code>的新虚拟文件系统，它可以将内核支持的设备映射到<code class="language-plaintext highlighter-rouge">/sys</code>文件夹下，<code class="language-plaintext highlighter-rouge">udev</code>就是借此实现了用户空间（<code class="language-plaintext highlighter-rouge">user space</code>）的动态设备检测，创建和更新，这样系统启动时就可以动态创建设备，你还可以指定设备为特定名称，<code class="language-plaintext highlighter-rouge">udevd</code>后台服务将会为你自动更新设备。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>系统开机流程：</p></blockquote><ul><li>按下<code class="language-plaintext highlighter-rouge">Power Button</code>，硬件逻辑电路完成<code class="language-plaintext highlighter-rouge">CPU Reset</code>，进入实地址模式，而其中<code class="language-plaintext highlighter-rouge">CS:IP=FFFF0H</code>，决定了<code class="language-plaintext highlighter-rouge">CPU</code>的第一条指令地址，就是跳转到<code class="language-plaintext highlighter-rouge">BIOS</code>首地址，于是<code class="language-plaintext highlighter-rouge">BIOS</code>就此启动；</li><li><code class="language-plaintext highlighter-rouge">BIOS</code>加载<code class="language-plaintext highlighter-rouge">CMOS</code>的硬件信息并进行开机自检；</li><li><code class="language-plaintext highlighter-rouge">BIOS</code>取得第一个开机装置，并读取执行<code class="language-plaintext highlighter-rouge">MBR</code>内的<code class="language-plaintext highlighter-rouge">Boot Loader</code>；</li><li><code class="language-plaintext highlighter-rouge">Boot Loader</code>依据设定加载<code class="language-plaintext highlighter-rouge">Kernel</code>，<code class="language-plaintext highlighter-rouge">Kernel</code>挂载根目录，检测硬件并加载驱动程序；</li><li>硬件驱动成功后，<code class="language-plaintext highlighter-rouge">Kernel</code>主动呼叫<code class="language-plaintext highlighter-rouge">init</code>程序，而<code class="language-plaintext highlighter-rouge">init</code>会取得<code class="language-plaintext highlighter-rouge">RUNLEVEL</code>；</li><li><code class="language-plaintext highlighter-rouge">init</code>执行<code class="language-plaintext highlighter-rouge">sysinit</code>完成系统环境初始化（如网络，时区等）；</li><li><code class="language-plaintext highlighter-rouge">init</code>依据<code class="language-plaintext highlighter-rouge">RUNLEVEL</code>启动各个服务（<code class="language-plaintext highlighter-rouge">/etc/init.d/rc $RUNLEVEL</code>）；</li><li><code class="language-plaintext highlighter-rouge">init</code>执行本地服务（<code class="language-plaintext highlighter-rouge">rc.local</code>）；</li><li><code class="language-plaintext highlighter-rouge">init</code>执行<code class="language-plaintext highlighter-rouge">getty</code>启动<code class="language-plaintext highlighter-rouge">login</code>程序，等待用户登录；</li></ul><blockquote><p><code class="language-plaintext highlighter-rouge">sysctl</code>可以在系统运行时读取和修改<code class="language-plaintext highlighter-rouge">kernel</code>的参数，你可以在<code class="language-plaintext highlighter-rouge">/etc/sysctl.conf</code>里做永久修改。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Ubuntu</code>中<code class="language-plaintext highlighter-rouge">telinit N</code>可以用来切换当前系统的<code class="language-plaintext highlighter-rouge">RUNLEVEL</code>，所以你可以用<code class="language-plaintext highlighter-rouge">telinit 0</code>来关机，<code class="language-plaintext highlighter-rouge">telinit 6</code>来重启。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>内核模块常用命令：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">depmod</code>会主动分析目前内核模块的相互依赖性，并重新生成<code class="language-plaintext highlighter-rouge">/lib/modules/$(uname -r)/modules.dep</code>，这个文件对于<code class="language-plaintext highlighter-rouge">modprobe</code>命令非常重要；</li><li><code class="language-plaintext highlighter-rouge">lsmod</code>可以列出目前内核加载的模块，<code class="language-plaintext highlighter-rouge">modinfo</code>可以查看某个内核模块的详细信息；</li><li><code class="language-plaintext highlighter-rouge">modprobe</code>可以根据<code class="language-plaintext highlighter-rouge">modules.dep</code>文件分析依赖性，然后安装和卸载内核模块，推荐使用；</li><li><code class="language-plaintext highlighter-rouge">insmod</code>和<code class="language-plaintext highlighter-rouge">rmmod</code>分别是安装和卸载模块命令，不过需要完整路径，也不会分析依赖性，适合完整无依赖，自己单独编写的模块，否则不推荐使用；</li></ul><blockquote><p>我们可以利用<code class="language-plaintext highlighter-rouge">Grub</code>救援<code class="language-plaintext highlighter-rouge">Linux</code>系统，进入<code class="language-plaintext highlighter-rouge">Grub</code>菜单，按<code class="language-plaintext highlighter-rouge">e</code>进入编辑模式，在<code class="language-plaintext highlighter-rouge">kernel</code>后加上<code class="language-plaintext highlighter-rouge">single</code>，<code class="language-plaintext highlighter-rouge">emergency</code>或<code class="language-plaintext highlighter-rouge">init=/bin/bash</code>等参数进入救援模式。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">chroot</code>可以帮助我们切换根目录，改变运行环境，如果一个<code class="language-plaintext highlighter-rouge">Linux</code>硬盘出了问题，可以插到另一台<code class="language-plaintext highlighter-rouge">Linux</code>主机上，利用<code class="language-plaintext highlighter-rouge">chroot</code>命令切换到问题硬盘的<code class="language-plaintext highlighter-rouge">Linux</code>环境上来解决问题，好像一个便携式系统哟。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">nc</code>是网络黑客利器，用处非常大，例如<code class="language-plaintext highlighter-rouge">nc -zv 127.0.0.1 631</code>可以扫描目标主机的<code class="language-plaintext highlighter-rouge">631</code>端口，还有好多好多功能，自己去看<code class="language-plaintext highlighter-rouge">man nc</code>吧。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux</code>预设的打印服务是<code class="language-plaintext highlighter-rouge">CUPS</code>，可以使用<code class="language-plaintext highlighter-rouge">http://localhost:631</code>来连接管理打印机，也可以使用<code class="language-plaintext highlighter-rouge">lp</code>系列指令来管理，不详述了，如果将<code class="language-plaintext highlighter-rouge">CUPS</code>设定为网络打印机服务器，其他人可以使用类似<code class="language-plaintext highlighter-rouge">ipp://192.168.1.10:631/printers/HP_Printer</code>的<code class="language-plaintext highlighter-rouge">URL</code>来连接。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Ubuntu</code>的软件管理命令：<code class="language-plaintext highlighter-rouge">dpkg</code>管理本地<code class="language-plaintext highlighter-rouge">deb</code>安装包；<code class="language-plaintext highlighter-rouge">apt</code>管理在线仓库的<code class="language-plaintext highlighter-rouge">deb</code>安装包；<code class="language-plaintext highlighter-rouge">add-apt-repository</code>可以增加或删除在线仓库。</p></blockquote><blockquote><p>对于<code class="language-plaintext highlighter-rouge">xft</code>字体，系统添加新字体后即可使用，<code class="language-plaintext highlighter-rouge">fc-list</code>查看可用字体，如果新字体没有显示，执行<code class="language-plaintext highlighter-rouge">fc-cache -v</code>更新字体缓存即可。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">X Server</code>管理系统硬件，<code class="language-plaintext highlighter-rouge">X Client</code>则是应用程序，每个<code class="language-plaintext highlighter-rouge">X Client</code>都不知道对方的存在，必须通过<code class="language-plaintext highlighter-rouge">X Window Manager</code>来管理所有的<code class="language-plaintext highlighter-rouge">X Client</code>，<code class="language-plaintext highlighter-rouge">Ubuntu</code>使用<code class="language-plaintext highlighter-rouge">lightdm</code>来管理桌面窗口。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">X Server</code>可以启动多个，使用<code class="language-plaintext highlighter-rouge">xinit</code>命令并指定<code class="language-plaintext highlighter-rouge">-display</code>选项即可，显示位置为<code class="language-plaintext highlighter-rouge">:0, :1 ...</code>；命令行模式下可以使用<code class="language-plaintext highlighter-rouge">startx</code>来启动桌面，不过并不会加载个人设置，使用有限制，推荐使用<code class="language-plaintext highlighter-rouge">sudo service lightdm restart</code>来启动桌面。</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Linux Kernel</code>编译和管理命令：</p></blockquote><ul><li><code class="language-plaintext highlighter-rouge">make mrproper</code>彻底清除目标文件和配置文件；</li><li><code class="language-plaintext highlighter-rouge">make clean</code>清除编译过程产生的目标文件等，不会删除配置文件；</li><li><code class="language-plaintext highlighter-rouge">make menuconfig</code>生成内核配置文件；</li><li><code class="language-plaintext highlighter-rouge">make oldconfig</code>使用已经存在的<code class="language-plaintext highlighter-rouge">.config</code>作为默认值，只列出新功能选项，简化挑选过程；</li><li><code class="language-plaintext highlighter-rouge">make vmlinux</code>编译生成未压缩的内核；</li><li><code class="language-plaintext highlighter-rouge">make modules</code>仅编译内核模块；</li><li><code class="language-plaintext highlighter-rouge">make bzImage</code>编译生成压缩过的内核；</li><li><code class="language-plaintext highlighter-rouge">make all</code>等于<code class="language-plaintext highlighter-rouge">make vmlinux modules bzImage</code>（预设，同<code class="language-plaintext highlighter-rouge">make</code>）；</li><li><code class="language-plaintext highlighter-rouge">make modules_install</code>安装内核模块到<code class="language-plaintext highlighter-rouge">/lib/modules</code>；</li><li><code class="language-plaintext highlighter-rouge">make install</code>安装内核<code class="language-plaintext highlighter-rouge">bzImage</code>到<code class="language-plaintext highlighter-rouge">/boot</code>，生成<code class="language-plaintext highlighter-rouge">initrd.img</code>，并更新<code class="language-plaintext highlighter-rouge">grub</code>配置；</li></ul><p><code class="language-plaintext highlighter-rouge">Ubuntu</code>生成<code class="language-plaintext highlighter-rouge">initrd.img</code>的命令是<code class="language-plaintext highlighter-rouge">mkinitramfs</code>，查看<code class="language-plaintext highlighter-rouge">initrd.img</code>内容的命令是<code class="language-plaintext highlighter-rouge">lsinitramfs</code>，还可以用<code class="language-plaintext highlighter-rouge">update-initramfs</code>管理<code class="language-plaintext highlighter-rouge">/boot</code>下的<code class="language-plaintext highlighter-rouge">initrd.img</code>文件。</p><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="https://blog.dreamylost.cn" target="_blank">梦境迷离</a></li><li>本文链接：<a href="https://blog.dreamylost.cn/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%A1%A5%E5%85%85.html" target="_blank">https://blog.dreamylost.cn/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%A1%A5%E5%85%85.html</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"></div><div class="comment"><div id="gitalk-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4', clientID: '061aadb5d449c0877d7d', clientSecret: '9aa7af7c248a7e36a07a86993e11a7acf7fbd353', repo: 'dreamylost-comments', owner: 'jxnu-liguobin', admin: ['jxnu-liguobin'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@built/assets/search_data.json?v=1697165745', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8236444920328818" data-ad-slot="6220614560" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2019 <span title="梦境迷离">梦境迷离</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/jxnu-liguobin/jxnu-liguobin.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://blog.dreamylost.cn/" title="首页" target="">首页</a></li><li> <a href="https://blog.dreamylost.cn/categories/" title="分类" target="">分类</a></li><li> <a href="https://blog.dreamylost.cn/archives/" title="归档" target="">归档</a></li><li> <a href="https://blog.dreamylost.cn/open-source/" title="开源" target="">开源</a></li><li> <a href="https://blog.dreamylost.cn/wiki/" title="维基" target="">维基</a></li><li> <a href="https://blog.dreamylost.cn/links/" title="链接" target="">链接</a></li><li> <a href="https://blog.dreamylost.cn/about/" title="关于" target="">关于</a></li><li><a href="https://blog.dreamylost.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul><script async src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/vendor/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2019-09-20 </span></div></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://cdn.jsdelivr.net/gh/jxnu-liguobin/jxnu-liguobin.github.io@master/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script><div style="display:none"> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-147390701-1', 'auto'); ga('send', 'pageview'); </script></div></body></html>
